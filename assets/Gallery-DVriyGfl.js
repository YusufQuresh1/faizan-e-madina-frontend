import{i as Zt,r as n,u as en,j as q}from"./index-DffJApv9.js";const pt="carousel",mt="controller",tn="navigation",nn="no-scroll",He="portal",rn="root",gt="toolbar",Te="loading",Ae="error",De="complete",on="placeholder",sn=e=>`active-slide-${e}`,vt="flex_center",cn="no_scroll",Et="no_scroll_padding",Xe="slide",ln="slide_wrapper",ee="prev",te="next",nt="swipe",se="close",xt="onPointerDown",bt="onPointerMove",_t="onPointerUp",Ct="onPointerLeave",Pt="onPointerCancel",yt="onKeyDown",an="onKeyUp",wt="onWheel",un="Escape",dn="ArrowLeft",fn="ArrowRight",hn="button",Ue="icon",Lt="contain",rt="cover",pn="Unknown action type";var mn=Zt();const Nt="yarl__";function Y(...e){return[...e].filter(Boolean).join(" ")}function L(e){return`${Nt}${e}`}function B(e){return`--${Nt}${e}`}function fe(e,t){return`${e}${t?`_${t}`:""}`}function je(e){return t=>fe(e,t)}function ce(e,t){var o;return(o=e?.[t])!==null&&o!==void 0?o:t}function gn(e,t,o){return ce(e,"{index} of {total}").replace(/\{index}/g,`${ze(o,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function St(...e){return()=>{e.forEach(t=>{t()})}}function Q(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function It(){return typeof window<"u"}function vn(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function Rt(e){return e.type===void 0||e.type==="image"}function En(e,t){return e.imageFit===rt||e.imageFit!==Lt&&t===rt}function Pe(e){return typeof e=="string"?Number.parseInt(e,10):e}function Ce(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Pe(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function xn(e,t){const o=Ce(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function ze(e,t){return t>0?(e%t+t)%t:0}function Ot(e){return e.length>0}function Mt(e,t){return e[ze(t,e.length)]}function Ve(e,t){return Ot(e)?Mt(e,t):void 0}function bn(e){return Rt(e)?e.src:void 0}function _n(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const Cn=Number(n.version.split(".")[0])>=19;function Pn(e){return{inert:Cn?e:e?"":void 0}}function yn(e){e.scrollTop}const Fe={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[se]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Lt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ne(e,t){return{name:e,component:t}}function W(e,t){return{module:e,children:t}}function Tt(e,t,o){return e.module.name===t?o(e):e.children?[W(e.module,e.children.flatMap(r=>{var i;return(i=Tt(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function ie(e,t,o){return e.flatMap(r=>{var i;return(i=Tt(r,t,o))!==null&&i!==void 0?i:[]})}function wn(e,t=[],o=[]){let r=e;const i=h=>{const p=[...r];for(;p.length>0;){const u=p.pop();if(u?.module.name===h)return!0;u?.children&&p.push(...u.children)}return!1},s=(h,p)=>{if(h===""){r=[W(p,r)];return}r=ie(r,h,u=>[W(p,[u])])},c=(h,p)=>{r=ie(r,h,u=>[W(u.module,[W(p,u.children)])])},l=(h,p,u)=>{r=ie(r,h,C=>{var b;return[W(C.module,[...u?[W(p)]:[],...(b=C.children)!==null&&b!==void 0?b:[],...u?[]:[W(p)]])]})},f=(h,p,u)=>{r=ie(r,h,C=>[...u?[W(p)]:[],C,...u?[]:[W(p)]])},m=h=>{c(mt,h)},g=(h,p)=>{r=ie(r,h,u=>[W(p,u.children)])},v=h=>{r=ie(r,h,p=>p.children)},d=h=>{o.push(h)};return t.forEach(h=>{h({contains:i,addParent:s,append:c,addChild:l,addSibling:f,addModule:m,replace:g,remove:v,augment:d})}),{config:r,augmentation:h=>o.reduce((p,u)=>u(p),h)}}const At=n.createContext(null),Dt=Q("useA11yContext","A11yContext",At);function Ln({children:e}){const[t,o]=n.useState(!1),[r,i]=n.useState(!1),s=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(l,f)=>{const m=g=>v=>{var d;v.currentTarget.contains(v.relatedTarget)||o(g),(d=g?l:f)===null||d===void 0||d(v)};return{onFocus:m(!0),onBlur:m(!1)}},autoPlaying:r,setAutoPlaying:i}),[t,r]);return n.createElement(At.Provider,{value:s},e)}const kt=n.createContext(null),Ke=Q("useDocument","DocumentContext",kt);function Nn({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=s=>{var c;return((c=s||e.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var c;return((c=r(s))===null||c===void 0?void 0:c.defaultView)||window}}},[e]);return n.createElement(kt.Provider,{value:o},t)}const Wt=n.createContext(null),ye=Q("useEvents","EventsContext",Wt);function Sn({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(c,l)=>{var f;(f=t[c])===null||f===void 0||f.splice(0,t[c].length,...t[c].filter(m=>m!==l))};return{publish:(...[c,l])=>{var f;(f=t[c])===null||f===void 0||f.forEach(m=>m(l))},subscribe:(c,l)=>(t[c]||(t[c]=[]),t[c].push(l),()=>r(c,l)),unsubscribe:r}},[t]);return n.createElement(Wt.Provider,{value:o},e)}const $t=n.createContext(null),he=Q("useLightboxProps","LightboxPropsContext",$t);function In({children:e,...t}){return n.createElement($t.Provider,{value:t},e)}const Ut=n.createContext(null),we=Q("useLightboxState","LightboxStateContext",Ut),Vt=n.createContext(null),Rn=Q("useLightboxDispatch","LightboxDispatchContext",Vt);function On(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=t?.increment||0,i=e.globalIndex+r,s=ze(i,o.length),c=Ve(o,s),l=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:s,globalIndex:i,currentSlide:c,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ve(t.slides,t.index)}:e;default:throw new Error(pn)}}function Mn({slides:e,index:t,children:o}){const[r,i]=n.useReducer(On,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ve(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(Vt.Provider,{value:i},n.createElement(Ut.Provider,{value:s},o))}const Ft=n.createContext(null),Le=Q("useTimeouts","TimeoutsContext",Ft);function Tn({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=c=>{t.splice(0,t.length,...t.filter(l=>l!==c))};return{setTimeout:(c,l)=>{const f=window.setTimeout(()=>{r(f),c()},l);return t.push(f),f},clearTimeout:c=>{c!==void 0&&(r(c),window.clearTimeout(c))}}},[t]);return n.createElement(Ft.Provider,{value:o},e)}const Bt=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:s,style:c,...l},f){const{styles:m,labels:g}=he(),v=ce(g,t);return n.createElement("button",{ref:f,type:"button",title:v,"aria-label":v,className:Y(L(hn),o),onClick:s,style:{...c,...m.button},...l},i?i():n.createElement(r,{className:L(Ue),style:m.icon}))});function An(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function pe(e,t){return An(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const Dn=pe("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),kn=pe("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Wn=pe("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),$n=pe("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),Un=pe("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),me=It()?n.useLayoutEffect:n.useEffect;function Ht(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i?.matches);const s=c=>t(c.matches);return(r=i?.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var c;return(c=i?.removeEventListener)===null||c===void 0?void 0:c.call(i,"change",s)}},[]),e}function Vn(e){let t=0,o=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const c=s[1].split(",").map(Pe);c.length===6?(t=c[4],o=c[5]):c.length===16&&(t=c[12],o=c[13],r=c[14])}return{x:t,y:o,z:r}}function ot(e,t){const o=n.useRef(void 0),r=n.useRef(void 0),i=Ht();return me(()=>{var s,c,l;if(e.current&&o.current!==void 0&&!i){const{keyframes:f,duration:m,easing:g,onfinish:v}=t(o.current,e.current.getBoundingClientRect(),Vn(e.current))||{};if(f&&m){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(l=(c=e.current).animate)===null||l===void 0?void 0:l.call(c,f,{duration:m,easing:g})}catch(d){console.error(d)}r.current&&(r.current.onfinish=()=>{r.current=void 0,v?.()})}}o.current=void 0}),{prepareAnimation:s=>{o.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Xt(){const e=n.useRef(null),t=n.useRef(void 0),[o,r]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const c=()=>{if(s){const l=window.getComputedStyle(s),f=m=>parseFloat(m)||0;r({width:Math.round(s.clientWidth-f(l.paddingLeft)-f(l.paddingRight)),height:Math.round(s.clientHeight-f(l.paddingTop)-f(l.paddingBottom))})}else r(void 0)};c(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(c),t.current.observe(s))},[]),containerRef:e,containerRect:o}}function _e(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:o}=Le();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function D(e){const t=n.useRef(e);return me(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function it(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Be(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{it(e,o),it(t,o)},[e,t])}function Fn(e,t=!1){const o=n.useRef(!1);me(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function Ye(){const[e,t]=n.useState(!1);return me(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Bn(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var c;(c=e[i])===null||c===void 0||c.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),o=n.useMemo(()=>({onPointerDown:i=>t(xt,i),onPointerMove:i=>t(bt,i),onPointerUp:i=>t(_t,i),onPointerLeave:i=>t(Ct,i),onPointerCancel:i=>t(Pt,i),onKeyDown:i=>t(yt,i),onKeyUp:i=>t(an,i),onWheel:i=>t(wt,i)}),[t]),r=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const c=e[i];c&&c.splice(0,c.length,...c.filter(l=>l!==s))}),[e]);return{registerSensors:o,subscribeSensors:r}}function st(e,t){const o=n.useRef(0),r=_e(),i=D((...s)=>{o.current=Date.now(),e(s)});return n.useCallback((...s)=>{r(()=>{i(s)},t-(Date.now()-o.current))},[t,i,r])}const ke=je("slide"),We=je("slide_image");function Hn({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:s,onClick:c,onLoad:l,onError:f,style:m}){var g,v,d,h,p,u,C,b;const[P,S]=n.useState(Te),{publish:M}=ye(),{setTimeout:R}=Le(),y=n.useRef(null);n.useEffect(()=>{t===0&&M(sn(P))},[t,P,M]);const x=D(w=>{("decode"in w?w.decode():Promise.resolve()).catch(()=>{}).then(()=>{w.parentNode&&(S(De),R(()=>{l?.(w)},0))})}),O=n.useCallback(w=>{y.current=w,w?.complete&&x(w)},[x]),N=n.useCallback(w=>{x(w.currentTarget)},[x]),j=D(()=>{S(Ae),f?.()}),A=En(e,i),V=(w,re)=>Number.isFinite(w)?w:re,E=V(Math.max(...((v=(g=e.srcSet)===null||g===void 0?void 0:g.map(w=>w.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((d=y.current)===null||d===void 0?void 0:d.naturalWidth)||0),T=V(Math.max(...((p=(h=e.srcSet)===null||h===void 0?void 0:h.map(w=>w.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((u=y.current)===null||u===void 0?void 0:u.naturalHeight)||0),_=E&&T?{maxWidth:`min(${E}px, 100%)`,maxHeight:`min(${T}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},k=(C=e.srcSet)===null||C===void 0?void 0:C.sort((w,re)=>w.width-re.width).map(w=>`${w.src} ${w.width}w`).join(", "),$=()=>r&&!A&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,J=k&&r&&It()?`${Math.round(Math.min($(),r.width))}px`:void 0,{style:le,className:Ne,...G}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:O,onLoad:N,onError:j,onClick:c,draggable:!1,className:Y(L(We()),A&&L(We("cover")),P!==De&&L(We("loading")),Ne),style:{..._,...m,...le},...G,alt:(b=e.alt)!==null&&b!==void 0?b:"",sizes:J,srcSet:k,src:e.src}),P!==De&&n.createElement("div",{className:L(ke(on))},P===Te&&(o?.iconLoading?o.iconLoading():n.createElement($n,{className:Y(L(Ue),L(ke(Te)))})),P===Ae&&(o?.iconError?o.iconError():n.createElement(Un,{className:Y(L(Ue),L(ke(Ae)))}))))}const Xn=n.forwardRef(function({className:t,children:o,onFocus:r,onBlur:i,...s},c){const l=n.useRef(null),{trackFocusWithin:f}=Dt();return n.createElement(Nn,{nodeRef:l},n.createElement("div",{ref:Be(c,l),className:Y(L("root"),t),...f(r,i),...s},o))});var U;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(U||(U={}));function jn(e,t,o,r,i){n.useEffect(()=>St(e(xt,t),e(bt,o),e(_t,r),e(Ct,r),e(Pt,r)),[e,t,o,r,i])}var X;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(X||(X={}));const $e=30;function zn({disableSwipeNavigation:e,closeOnBackdropClick:t},o,r,i,s,c,l,f,m,g,v,d,h,p,u,C){const b=n.useRef(0),P=n.useRef([]),S=n.useRef(void 0),M=n.useRef(0),R=n.useRef(X.NONE),y=n.useCallback(E=>{S.current===E.pointerId&&(S.current=void 0,R.current=X.NONE);const T=P.current;T.splice(0,T.length,...T.filter(_=>_.pointerId!==E.pointerId))},[]),x=n.useCallback(E=>{y(E),E.persist(),P.current.push(E)},[y]),O=n.useCallback(E=>P.current.find(({pointerId:T})=>E.pointerId===T),[]),N=D(E=>{x(E)}),j=(E,T)=>v&&E>T||g&&E<-T,A=D(E=>{const T=O(E);if(T)if(S.current===E.pointerId){const _=Date.now()-M.current,k=b.current;R.current===X.SWIPE?Math.abs(k)>.3*i||Math.abs(k)>5&&_<s?f(k,_):m(k):R.current===X.PULL&&(j(k,2*$e)?p(k,_):u(k)),b.current=0,R.current=X.NONE}else{const{target:_}=E;t&&_ instanceof HTMLElement&&_===T.target&&(_.classList.contains(L(Xe))||_.classList.contains(L(ln)))&&C()}y(E)}),V=D(E=>{const T=O(E);if(T){const _=S.current===E.pointerId;if(E.buttons===0){_&&b.current!==0?A(E):y(T);return}const k=E.clientX-T.clientX,$=E.clientY-T.clientY;if(S.current===void 0){const J=le=>{x(E),S.current=E.pointerId,M.current=Date.now(),R.current=le};Math.abs(k)>Math.abs($)&&Math.abs(k)>$e&&r(k)?e||(J(X.SWIPE),c()):Math.abs($)>Math.abs(k)&&j($,$e)&&(J(X.PULL),d())}else _&&(R.current===X.SWIPE?(b.current=k,l(k)):R.current===X.PULL&&(b.current=$,h($)))}});jn(o,N,V,A)}function Kn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=D(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",r,{passive:!1}):(s=o.current)===null||s===void 0||s.removeEventListener("wheel",r),o.current=i},[r])}function Yn(e,t,o,r,i,s,c,l,f){const m=n.useRef(0),g=n.useRef(0),v=n.useRef(void 0),d=n.useRef(void 0),h=n.useRef(0),p=n.useRef(void 0),u=n.useRef(0),{setTimeout:C,clearTimeout:b}=Le(),P=n.useCallback(()=>{v.current&&(b(v.current),v.current=void 0)},[b]),S=n.useCallback(()=>{d.current&&(b(d.current),d.current=void 0)},[b]),M=D(()=>{e!==U.SWIPE&&(m.current=0,u.current=0,P(),S())});n.useEffect(M,[e,M]);const R=D(x=>{d.current=void 0,m.current===x&&f(m.current)}),y=D(x=>{if(x.ctrlKey||Math.abs(x.deltaY)>Math.abs(x.deltaX))return;const O=N=>{h.current=N,b(p.current),p.current=N>0?C(()=>{h.current=0,p.current=void 0},300):void 0};if(e===U.NONE){if(Math.abs(x.deltaX)<=1.2*Math.abs(h.current)){O(x.deltaX);return}if(!o(-x.deltaX))return;if(g.current+=x.deltaX,P(),Math.abs(g.current)>30)g.current=0,O(0),u.current=Date.now(),s();else{const N=g.current;v.current=C(()=>{v.current=void 0,N===g.current&&(g.current=0)},i)}}else if(e===U.SWIPE){let N=m.current-x.deltaX;if(N=Math.min(Math.abs(N),r)*Math.sign(N),m.current=N,c(N),S(),Math.abs(N)>.2*r){O(x.deltaX),l(N,Date.now()-u.current);return}d.current=C(()=>R(N),2*i)}else O(x.deltaX)});n.useEffect(()=>t(wt,y),[t,y])}const ct=je("container"),jt=n.createContext(null),ge=Q("useController","ControllerContext",jt);function Gn({children:e,...t}){var o;const{carousel:r,animation:i,controller:s,on:c,styles:l,render:f}=t,{closeOnPullUp:m,closeOnPullDown:g,preventDefaultWheelX:v,preventDefaultWheelY:d}=s,[h,p]=n.useState(),u=we(),C=Rn(),[b,P]=n.useState(U.NONE),S=n.useRef(0),M=n.useRef(0),R=n.useRef(1),{registerSensors:y,subscribeSensors:x}=Bn(),{subscribe:O,publish:N}=ye(),j=_e(),A=_e(),V=_e(),{containerRef:E,setContainerRef:T,containerRect:_}=Xt(),k=Be(Kn({preventDefaultWheelX:v,preventDefaultWheelY:d}),T),$=n.useRef(null),J=Be($,void 0),{getOwnerDocument:le}=Ke(),Ne=Ye(),G=a=>(Ne?-1:1)*(typeof a=="number"?a:1),w=D(()=>{var a;return(a=E.current)===null||a===void 0?void 0:a.focus()}),re=D(()=>t),Ge=D(()=>u),ve=n.useCallback(a=>N(ee,a),[N]),Ee=n.useCallback(a=>N(te,a),[N]),oe=n.useCallback(()=>N(se),[N]),Se=a=>!(r.finite&&(G(a)>0&&u.currentIndex===0||G(a)<0&&u.currentIndex===u.slides.length-1)),qe=a=>{var I;S.current=a,(I=E.current)===null||I===void 0||I.style.setProperty(B("swipe_offset"),`${Math.round(a)}px`)},Ie=a=>{var I,F;M.current=a,R.current=(()=>{const ue=g&&a>0?a:m&&a<0?-a:0;return Math.min(Math.max(vn(1-ue/60*(1-.5),2),.5),1)})(),(I=E.current)===null||I===void 0||I.style.setProperty(B("pull_offset"),`${Math.round(a)}px`),(F=E.current)===null||F===void 0||F.style.setProperty(B("pull_opacity"),`${R.current}`)},{prepareAnimation:Yt}=ot($,(a,I,F)=>{if($.current&&_)return{keyframes:[{transform:`translate(0, ${a.rect.y-I.y+F.y}px)`,opacity:a.opacity},{transform:"translate(0, 0)",opacity:1}],duration:a.duration,easing:i.easing.fade}}),Qe=(a,I)=>{if(m||g){Ie(a);let F=0;$.current&&(F=i.fade*(I?2:1),Yt({rect:$.current.getBoundingClientRect(),opacity:R.current,duration:F})),V(()=>{Ie(0),P(U.NONE)},F),P(U.ANIMATION),I||oe()}},{prepareAnimation:Gt,isAnimationPlaying:qt}=ot($,(a,I,F)=>{var z;if($.current&&_&&(!((z=u.animation)===null||z===void 0)&&z.duration)){const H=Ce(r.spacing),ue=(H.percent?H.percent*_.width/100:H.pixel)||0;return{keyframes:[{transform:`translate(${G(u.globalIndex-a.index)*(_.width+ue)+a.rect.x-I.x+F.x}px, 0)`},{transform:"translate(0, 0)"}],duration:u.animation.duration,easing:u.animation.easing}}}),ae=D(a=>{var I,F;const z=a.offset||0,H=z?i.swipe:(I=i.navigation)!==null&&I!==void 0?I:i.swipe,ue=!z&&!qt()?i.easing.navigation:i.easing.swipe;let{direction:xe}=a;const be=(F=a.count)!==null&&F!==void 0?F:1;let Re=U.ANIMATION,K=H*be;if(!xe){const de=_?.width,tt=a.duration||0,Me=de?H/de*Math.abs(z):H;be!==0?(tt<Me?K=K/Me*Math.max(tt,Me/5):de&&(K=H/de*(de-Math.abs(z))),xe=G(z)>0?ee:te):K=H/2}let Oe=0;xe===ee?Se(G(1))?Oe=-be:(Re=U.NONE,K=H):xe===te&&(Se(G(-1))?Oe=be:(Re=U.NONE,K=H)),K=Math.round(K),A(()=>{qe(0),P(U.NONE)},K),$.current&&Gt({rect:$.current.getBoundingClientRect(),index:u.globalIndex}),P(Re),N(nt,{type:"swipe",increment:Oe,duration:K,easing:ue})});n.useEffect(()=>{var a,I;!((a=u.animation)===null||a===void 0)&&a.increment&&(!((I=u.animation)===null||I===void 0)&&I.duration)&&j(()=>C({type:"swipe",increment:0}),u.animation.duration)},[u.animation,C,j]);const Je=[x,Se,_?.width||0,i.swipe,()=>P(U.SWIPE),a=>qe(a),(a,I)=>ae({offset:a,duration:I,count:1}),a=>ae({offset:a,count:0})],Qt=[()=>{g&&P(U.PULL)},a=>Ie(a),a=>Qe(a),a=>Qe(a,!0)];zn(s,...Je,m,g,...Qt,oe),Yn(b,...Je);const Ze=D(()=>{s.focus&&le().querySelector(`.${L(He)} .${L(ct())}`)&&w()});n.useEffect(Ze,[Ze]);const et=D(()=>{var a;(a=c.view)===null||a===void 0||a.call(c,{index:u.currentIndex})});n.useEffect(et,[u.globalIndex,et]),n.useEffect(()=>St(O(ee,a=>ae({direction:ee,...a})),O(te,a=>ae({direction:te,...a})),O(nt,a=>C(a))),[O,ae,C]);const Jt=n.useMemo(()=>({prev:ve,next:Ee,close:oe,focus:w,slideRect:_?xn(_,r.padding):{width:0,height:0},containerRect:_||{width:0,height:0},subscribeSensors:x,containerRef:E,setCarouselRef:J,toolbarWidth:h,setToolbarWidth:p}),[ve,Ee,oe,w,x,_,E,J,h,p,r.padding]);return n.useImperativeHandle(s.ref,()=>({prev:ve,next:Ee,close:oe,focus:w,getLightboxProps:re,getLightboxState:Ge}),[ve,Ee,oe,w,re,Ge]),n.createElement("div",{ref:k,className:Y(L(ct()),L(vt)),style:{...b===U.SWIPE?{[B("swipe_offset")]:`${Math.round(S.current)}px`}:null,...b===U.PULL?{[B("pull_offset")]:`${Math.round(M.current)}px`,[B("pull_opacity")]:`${R.current}`}:null,...s.touchAction!=="none"?{[B("controller_touch_action")]:s.touchAction}:null,...l.container},tabIndex:-1,...y},_&&n.createElement(jt.Provider,{value:Jt},e,(o=f.controls)===null||o===void 0?void 0:o.call(f)))}const qn=ne(mt,Gn);function Z(e){return fe(pt,e)}function lt(e){return fe(Xe,e)}function Qn({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r,slides:i}=we(),{slideRect:s,focus:c}=ge(),{render:l,carousel:{imageFit:f,imageProps:m},on:{click:g},styles:{slide:v},labels:d}=he(),{getOwnerDocument:h}=Ke(),p=t!==0;n.useEffect(()=>{var C;p&&(!((C=o.current)===null||C===void 0)&&C.contains(h().activeElement))&&c()},[p,c,h]);const u=()=>{var C,b,P,S;let M=(C=l.slide)===null||C===void 0?void 0:C.call(l,{slide:e,offset:t,rect:s});return!M&&Rt(e)&&(M=n.createElement(Hn,{slide:e,offset:t,render:l,rect:s,imageFit:f,imageProps:m,onClick:p?void 0:()=>g?.({index:r})})),M?n.createElement(n.Fragment,null,(b=l.slideHeader)===null||b===void 0?void 0:b.call(l,{slide:e}),((P=l.slideContainer)!==null&&P!==void 0?P:(({children:R})=>R))({slide:e,children:M}),(S=l.slideFooter)===null||S===void 0?void 0:S.call(l,{slide:e})):null};return n.createElement("div",{ref:o,className:Y(L(lt()),!p&&L(lt("current")),L(vt)),...Pn(p),style:v,role:"group","aria-roledescription":ce(d,"Slide"),"aria-label":gn(d,i,r+t)},u())}function Jn(){const e=he().styles.slide;return n.createElement("div",{className:L(Xe),style:e})}function Zn({carousel:e,labels:t}){const{slides:o,currentIndex:r,globalIndex:i}=we(),{setCarouselRef:s}=ge(),{autoPlaying:c,focusWithin:l}=Dt(),f=Ce(e.spacing),m=Ce(e.padding),g=_n(e,o,1),v=[];if(Ot(o))for(let d=r-g;d<=r+g;d+=1){const h=Mt(o,d),p=i-r+d,u=e.finite&&(d<0||d>o.length-1);v.push(u?{key:p}:{key:[`${p}`,bn(h)].filter(Boolean).join("|"),offset:d-r,slide:h})}return n.createElement("div",{ref:s,className:Y(L(Z()),v.length>0&&L(Z("with_slides"))),style:{[`${B(Z("slides_count"))}`]:v.length,[`${B(Z("spacing_px"))}`]:f.pixel||0,[`${B(Z("spacing_percent"))}`]:f.percent||0,[`${B(Z("padding_px"))}`]:m.pixel||0,[`${B(Z("padding_percent"))}`]:m.percent||0},role:"region","aria-live":c&&!l?"off":"polite","aria-roledescription":ce(t,"Carousel"),"aria-label":ce(t,"Photo gallery")},v.map(({key:d,slide:h,offset:p})=>h?n.createElement(Qn,{key:d,slide:h,offset:p}):n.createElement(Jn,{key:d})))}const er=ne(pt,Zn);function zt(){const{carousel:e}=he(),{slides:t,currentIndex:o}=we(),r=t.length===0||e.finite&&o===0,i=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:i}}function tr(e){var t;const o=Ye(),{publish:r}=ye(),{animation:i}=he(),{prevDisabled:s,nextDisabled:c}=zt(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,f=st(()=>r(ee),l),m=st(()=>r(te),l),g=D(v=>{switch(v.key){case un:r(se);break;case dn:(o?c:s)||(o?m:f)();break;case fn:(o?s:c)||(o?f:m)();break}});n.useEffect(()=>e(yt,g),[e,g])}function at({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:s,style:c}){return n.createElement(Bt,{label:e,icon:t,renderIcon:o,className:L(`navigation_${r}`),disabled:s,onClick:i,style:c,...Fn(ge().focus,s)})}function nr({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:i}){const{prev:s,next:c,subscribeSensors:l}=ge(),{prevDisabled:f,nextDisabled:m}=zt();return tr(l),n.createElement(n.Fragment,null,e?e():n.createElement(at,{label:"Previous",action:ee,icon:kn,renderIcon:o,style:i.navigationPrev,disabled:f,onClick:s}),t?t():n.createElement(at,{label:"Next",action:te,icon:Wn,renderIcon:r,style:i.navigationNext,disabled:m,onClick:c}))}const rr=ne(tn,nr),ut=L(cn),or=L(Et);function ir(e){return"style"in e}function dt(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",s=o?r.paddingLeft:r.paddingRight,c=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Pe(s)||0)+t}px`),()=>{c?e.style.setProperty(i,c):e.style.removeProperty(i)}}function sr({noScroll:{disabled:e},children:t}){const o=Ye(),{getOwnerDocument:r,getOwnerWindow:i}=Ke();return n.useEffect(()=>{if(e)return()=>{};const s=[],c=i(),{body:l,documentElement:f}=r(),m=Math.round(c.innerWidth-f.clientWidth);if(m>0){s.push(dt(l,m,o));const g=l.getElementsByTagName("*");for(let v=0;v<g.length;v+=1){const d=g[v];ir(d)&&c.getComputedStyle(d).getPropertyValue("position")==="fixed"&&!d.classList.contains(or)&&s.push(dt(d,m,o))}}return l.classList.add(ut),()=>{l.classList.remove(ut),s.forEach(g=>g())}},[o,e,r,i]),n.createElement(n.Fragment,null,t)}const cr=ne(nn,sr);function ft(e){return fe(He,e)}function ht(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function lr({children:e,animation:t,styles:o,className:r,on:i,portal:s,close:c,labels:l}){const[f,m]=n.useState(!1),[g,v]=n.useState(!1),d=n.useRef([]),h=n.useRef(null),{setTimeout:p}=Le(),{subscribe:u}=ye(),b=Ht()?0:t.fade;n.useEffect(()=>(m(!0),()=>{m(!1),v(!1)}),[]);const P=D(()=>{d.current.forEach(y=>y()),d.current=[]}),S=D(()=>{var y;v(!1),P(),(y=i.exiting)===null||y===void 0||y.call(i),p(()=>{var x;(x=i.exited)===null||x===void 0||x.call(i),c()},b)});n.useEffect(()=>u(se,S),[u,S]);const M=D(y=>{var x,O,N;yn(y),v(!0),(x=i.entering)===null||x===void 0||x.call(i);const j=(N=(O=y.parentNode)===null||O===void 0?void 0:O.children)!==null&&N!==void 0?N:[];for(let A=0;A<j.length;A+=1){const V=j[A];["TEMPLATE","SCRIPT","STYLE"].indexOf(V.tagName)===-1&&V!==y&&(d.current.push(ht(V,"inert","")),d.current.push(ht(V,"aria-hidden","true")))}d.current.push(()=>{var A,V;(V=(A=h.current)===null||A===void 0?void 0:A.focus)===null||V===void 0||V.call(A)}),p(()=>{var A;(A=i.entered)===null||A===void 0||A.call(i)},b)}),R=n.useCallback(y=>{y?M(y):P()},[M,P]);return f?mn.createPortal(n.createElement(Xn,{ref:R,className:Y(r,L(ft()),L(Et),g&&L(ft("open"))),"aria-modal":!0,role:"dialog","aria-label":ce(l,"Lightbox"),style:{...t.fade!==Fe.animation.fade?{[B("fade_animation_duration")]:`${b}ms`}:null,...t.easing.fade!==Fe.animation.easing.fade?{[B("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:y=>{h.current||(h.current=y.relatedTarget)}},e),s.root||document.body):null}const ar=ne(He,lr);function ur({children:e}){return n.createElement(n.Fragment,null,e)}const dr=ne(rn,ur);function fr(e){return fe(gt,e)}function hr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:s}=ge(),{setContainerRef:c,containerRect:l}=Xt();me(()=>{s(l?.width)},[s,l?.width]);const f=()=>t?t():n.createElement(Bt,{key:se,label:"Close",icon:Dn,renderIcon:o,onClick:i});return n.createElement("div",{ref:c,style:r.toolbar,className:L(fr())},e?.map(m=>m===se?f():m))}const pr=ne(gt,hr);function Kt(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>Kt(r,t)))}function mr(e,t={}){const{easing:o,...r}=e,{easing:i,...s}=t;return{easing:{...o,...i},...r,...s}}function gr({carousel:e,animation:t,render:o,toolbar:r,controller:i,noScroll:s,on:c,plugins:l,slides:f,index:m,...g}){const{animation:v,carousel:d,render:h,toolbar:p,controller:u,noScroll:C,on:b,slides:P,index:S,plugins:M,...R}=Fe,{config:y,augmentation:x}=wn([W(ar,[W(cr,[W(qn,[W(er),W(pr),W(rr)])])])],l||M),O=x({animation:mr(v,t),carousel:{...d,...e},render:{...h,...o},toolbar:{...p,...r},controller:{...u,...i},noScroll:{...C,...s},on:{...b,...c},...R,...g});return O.open?n.createElement(In,{...O},n.createElement(Mn,{slides:f||P,index:Pe(m||S)},n.createElement(Tn,null,n.createElement(Sn,null,n.createElement(Ln,null,Kt(W(dr,y),O)))))):null}const vr="https://portal.faizanemadinasouthend.co.uk";function xr(){const[e,t]=n.useState([]),[o,r]=n.useState(!0),[i,s]=n.useState(!1),[c,l]=n.useState(0),[f,m]=en({threshold:.1});n.useEffect(()=>{async function d(){try{r(!0);const h=await fetch(`${vr}/api/gallery?populate=images`);if(!h.ok)throw new Error("Failed to fetch gallery images.");const p=await h.json(),u=p.data?.images||p.data?.attributes?.images;t(u.data||u||[])}catch(h){console.error(h),t([])}finally{r(!1)}}d()},[]);const g=e.map(d=>({src:d.attributes?.url||d.url,alt:"Gallery image"})),v=d=>{l(d),s(!0)};return q.jsxs("div",{id:"gallery",className:`gallery-section ${m?"is-visible":""}`,ref:f,children:[q.jsxs("div",{className:"gallery-wrapper",children:[q.jsx("h2",{children:"Gallery"}),o&&q.jsx("p",{className:"gallery-loading",children:"Loading Gallery..."}),q.jsx("div",{className:"gallery-grid",children:e.map((d,h)=>{const p=d.attributes?.formats||d.formats||{},u=p.small?.url||p.medium?.url||p.thumbnail?.url||d.attributes?.url||d.url;return q.jsx("div",{className:"gallery-item",onClick:()=>v(h),children:q.jsx("img",{src:u,alt:"Gallery thumbnail",loading:"lazy"})},d.id)})})]}),q.jsx(gr,{open:i,close:()=>s(!1),slides:g,index:c})]})}export{xr as default};
